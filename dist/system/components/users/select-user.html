<template>
  <ux-card>
    <ux-card-header>
      <ux-icon icon="clear" dismiss-modal></ux-icon>
      <h2 t="Select a User"></h2>
    </ux-card-header>
    <ux-card-separator class="ux-card__separator--no-margin"></ux-card-separator>
    <ux-card-content>
      <ux-input value.bind="search" type="search">
        <ux-icon icon="search" slot="leading-icon"></ux-icon>
        <span class="muted" slot="trailing-icon">${currentCount}</span>
      </ux-input>
      <div class="ux-list ux-list--border" style="max-height: 70vh; overflow-y: auto;">
        <user-item class="${disableIds.indexOf(user.id) === -1 ? '':'user-item--disabled'}" 
          virtual-repeat.for="user of items" 
          infinite-scroll-next.call="getMoreItems($scrollContext)"
          user.bind="user"
          click.delegate="selectUser(user)">
        </user-item>
      </div>
    </ux-card-content>
    <ux-card-separator class="ux-card__separator--no-margin"></ux-card-separator>
    <ux-card-footer>
      <ux-button type="text" dismiss-modal><span t="Cancel"></span></ux-button>
      <ux-button type="raised" ok-modal><span t="Save"></span></ux-button>
    </ux-card-footer>
  </ux-card>
</template>
