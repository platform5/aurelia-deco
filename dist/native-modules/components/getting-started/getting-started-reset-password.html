<template>
  <h4 t="gettingStarted.Reset my password"></h4>
  <p class="getting-started--no-wrap-span" t="[html]gettingStarted.We sent you a code to <span>{{username}}</span>, please enter it below" t-params.bind="{username: gs.forgotUsername}"></p>
  <form submit.trigger="resetPassword()" if.bind="gs && gs.step === 'reset-password'">
    <ux-form>
      <ux-field>
        <ux-input label="${'gettingStarted.Code' | t}" value.bind="gs.forgotCode & validate:gs.validationController" autocomplete="one-time-code"></ux-input>
        <ux-input-info t="gettingStarted.If you do not receive this email, please check your spam or bulk email folder"></ux-input-info>
      </ux-field>
      <ux-field>
        <input type="text" name="username" value="${gs.username}" autocomplete="username" style="display: none;">
        <ux-input type="password" label="${'gettingStarted.Password' | t}" value.bind="gs.forgotNewPassword & validate:gs.validationController" autocomplete="new-password"></ux-input>
        <ux-input-info></ux-input-info>
      </ux-field>
    </ux-form>
    <ar-spinner-line active.bind="gs.processing" class="getting-started__ar-spinner-line"></ar-spinner-line>
    <ux-button click.delegate="gs.resetPassword()" size="large"><span t="gettingStarted.Validate"></span></ux-button>
  </form>

  <div class="getting-started__secondary-buttons-row">
    <ux-button type="text" click.delegate="gs.sendForgotPasswordCode()"><span t="gettingStarted.Send the code again"></span></ux-button>
    <ux-button type="text" click.delegate="gs.goToStart()"><span t="gettingStarted.Back to login"></ux-button>
  </div>
</template>