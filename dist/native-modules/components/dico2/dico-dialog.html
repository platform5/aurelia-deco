<template>
  <ux-card>
    <ux-card-header>
      <ux-icon icon="clear" dismiss-modal></ux-icon>
      <h2 if.bind="mode === 'create'" t="admin.dico.Add New Dico"></h2>
      <h2 if.bind="mode === 'edit'" t="admin.dico.Edit Dico"></h2>
    </ux-card-header>
    <ux-card-separator class="ux-card__separator--no-margin"></ux-card-separator>
    <ux-card-content>
      <let display-ref.bind="global.state.language !== global.state.refLanguage"></let>
      <let ref-locale.bind="global.state.refLanguage"></let>
      <ux-form>
        <deco-field instance.bind="dico" property="key"></deco-field>
        <deco-field if.bind="mode === 'create'" instance.bind="dico" property="value"></deco-field>
        <template else>
          <ux-card-separator></ux-card-separator>
          <ux-field repeat.for="lang of languages">
            <ux-textarea auto-resize.bind="true" value.bind="dico.value[lang]" label="Value ${lang}"></ux-textarea>
          </ux-field>
          <ux-card-separator></ux-card-separator>
        </template>
        <deco-field instance.bind="dico" property="tags"></deco-field>
      </ux-form>
    </ux-card-content>
    <ux-card-separator class="ux-card__separator--no-margin"></ux-card-separator>
    <ux-card-footer>
      <ux-button if.bind="mode === 'edit'" type="text" ok-modal="remove" style="margin-right: auto; --aurelia-ux--button-background: var(--aurelia-ux--design-error);"><span t="Remove"></span></ux-button>
      <ux-button type="text" dismiss-modal><span t="Cancel"></span></ux-button>
      <ux-button type="raised" ok-modal><span t="Save"></span></ux-button>
    </ux-card-footer>
  </ux-card>
</template>
