<template class="swissdata-user-field">
  <require from="./swissdata-user-field.css"></require>
  <form if.bind="instance && property === 'password'" submit.trigger="updatePassword()">
    <ux-form>
      <ux-field>
        <ux-input label="${'gettingStarted.Enter your current password' | t}" value.bind="currentPassword & validate" type="password"></ux-input>
        <ux-input-info></ux-input-info>
      </ux-field>
      <ux-field>
        <input type="text" name="username" value="instance.email ||Â instance.mobile" autocomplete="username" style="display: none;">
        <ux-input label="${'gettingStarted.And choose a new password' | t}" value.bind="newPassword & validate" type="password" autocomplete="new-password"></ux-input>
        <ux-input-info></ux-input-info>
      </ux-field>
    </ux-form>
    <ux-button click.delegate="updatePassword()"><span t="gettingStarted.Update password"></span></ux-button>
  </form>
  <form if.bind="instance && property === 'email' && !token" submit.trigger="requestEmailChange()">
    <ux-form>
      <ux-field>
        <ux-input label="${'gettingStarted.Enter your email' | t}" value.bind="email & validate" type="email"></ux-input>
        <ux-input-info></ux-input-info>
      </ux-field>
    </ux-form>
    <ux-button click.delegate="requestEmailChange()"><span t="gettingStarted.Send validation code"></span></ux-button>
  </form>
  <form if.bind="instance && property === 'email' && token" submit.trigger="validateEmailChange()">
    <ux-form>
      <ux-field>
        <ux-input label="${'gettingStarted.Enter the code your received by email' | t}" value.bind="code & validate" type="text" autocomplete="one-time-code"></ux-input>
        <ux-input-info></ux-input-info>
      </ux-field>
    </ux-form>
    <div class="swissdata-user_field__button-row">
      <ux-button click.delegate="validateEmailChange()"><span t="gettingStarted.Confirm"></span></ux-button>
      <ux-button type="text" click.delegate="sendEmailCodeAgain()"><span t="gettingStarted.Send the code again"></span></ux-button>
      <ux-button type="text" click.delegate="cancelEmailChange()" class="swissdata-user_field__button-row--right"><span t="Cancel"></span></ux-button>
    </div>
  </form>
  <form if.bind="instance && property === 'mobile' && !token" submit.trigger="requestMobileChange()">
    <ux-form>
      <ux-field>
        <ux-input label="${'gettingStarted.Enter your mobile number' | t}" value.bind="mobile & validate" type="text"></ux-input>
        <ux-input-info><span t="gettingStarted.Example {{number}}" t-params.bind="{number: mobileNumberExemple}"></span></ux-input-info>
      </ux-field>
    </ux-form>
    <ux-button click.delegate="requestMobileChange()"><span t="gettingStarted.Send validation code"></span></ux-button>
  </form>
  <form if.bind="instance && property === 'mobile' && token" submit.trigger="validateMobileChange()">
    <ux-form>
      <ux-field>
        <ux-input label="${'gettingStarted.Enter the code your received by SMS' | t}" value.bind="code & validate" type="text" autocomplete="one-time-code"></ux-input>
        <ux-input-info></ux-input-info>
      </ux-field>
    </ux-form>
    <div class="swissdata-user_field__button-row">
      <ux-button click.delegate="validateMobileChange()"><span t="gettingStarted.Confirm"></span></ux-button>
      <ux-button type="text" click.delegate="sendMobileCodeAgain()"><span t="gettingStarted.Send the code again"></span></ux-button>
      <ux-button type="text" click.delegate="cancelMobileChange()" class="swissdata-user_field__button-row--right"><span t="Cancel"></span></ux-button>
    </div>
  </form>
</template>
